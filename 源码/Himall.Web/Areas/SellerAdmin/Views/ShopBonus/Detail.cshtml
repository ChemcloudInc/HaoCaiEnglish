<script src="~/Scripts/jquery.himallUpload.js"></script>
<script src="~/Scripts/jquery.placeholder.min.js"></script>
<script src="~/Scripts/bootstrap.autocomplete.js"></script>
<script src="~/Scripts/jquery.hiMallDatagrid.js"></script>

<div class="container">
    <ul class="nav nav-tabs-custom clearfix">
        <strong>Shop Bonus</strong>
        <li><a href="/SellerAdmin/ShopBonus/Management">Management</a></li>
        <li class="active"><a>Detail</a></li>
    </ul>


    <table class="table" id="list"></table>
</div>

<script type="text/javascript">
    $( function ()
    {
        loadGrid();
    } )

    function loadGrid()
    {
        $( "#list" ).hiMallDatagrid( {
            url: '/SellerAdmin/ShopBonus/DetailList',
            nowrap: false,
            rownumbers: true,
            NoDataMsg: 'No matching data',
            border: false,
            fit: true,
            fitColumns: true,
            pagination: true,
            idField: "Id",
            pageSize: 20,
            pageNumber: 1,
            queryParams: { id : @ViewBag.Id },
            toolbar: /*"#goods-datagrid-toolbar",*/'',
            columns:
            [[
                { field: "OpenId", title: "OpenId" , formatter: function ( value, row, index ){
                    if(row.OpenId == null)
                    {
                        return "-";
                    }
                    else
                    {
                        return row.OpenId;
                    }
                } },
                { field: "Price", title: "Amount" },
                 { field: "StateStr", title: "State" , formatter: function ( value, row, index ){
                     return row.StateStr;
                 } },
                { field: "ReceiveTime", title: "Receive time" , formatter: function ( value, row, index ){
                    if(row.ReceiveTime == null || row.ReceiveTime == "")
                    {
                        return "-";
                    }
                    else
                    {
                        return row.ReceiveTime;
                    }
                } },
                { field: "UsedTime", title: "Used time" , formatter: function ( value, row, index ){
                    if(row.UsedTime == null || row.UsedTime == "")
                    {
                        return "-";
                    }
                    else
                    {
                        return row.UsedTime;
                    }
                } },
                { field: "UsedOrderId", title: "Order no." , formatter: function ( value, row, index ){
                    if(row.UsedOrderId == null || row.UsedOrderId == "")
                    {
                        return "-";
                    }
                    else
                    {
                        return row.UsedOrderId;
                    }
                } }

            ]]
        } );
    }
</script>